import{J as we,r as z,aJ as W,d as ee,D as v,aK as ne,A as Y,aL as na,aM as ia,aN as oa,aO as be,aP as ra,aQ as $e,o as me,B as Le,aA as Re,aR as ua,aS as sa,aT as da,aU as Ce,aV as ca,F as te,aW as Fe,aX as fa,aY as va,aZ as Ue,b as Qe,a_ as pa,a$ as re,ai as ge,b0 as ba,b1 as U,X as Ye,Q as ye,R as q,k as he,U as se,V as G,ay as De,Y as Z,c as f,e as k,f as N,Z as ga,b2 as ma,O as D,n as g,N as w,g as X,t as J,h as V,b3 as ya,b4 as ha,E as ke,G as Ke,W as Ze,b5 as ka,b6 as Pe,b7 as Oa,b8 as qe,I as Sa,K as $a,M as H,w as K,b9 as fe,i as le,T as Ia,L as je,P as wa,ba as Ee,bb as Ca,bc as Va,ac as oe,ad as Xe,bd as Aa,aI as Ma,be as Ba,bf as za,ab as F,S as ja,a0 as Ne,bg as ve}from"./DdII4wio.js";import{_ as La}from"./C8Tpg7Qu.js";import{d as Fa,f as Da,c as Q,e as Ta,a as Ra,l as Ua,n as qa,u as Ea,r as Na,i as Ha}from"./DNZDiwk-.js";const Wa=we,Ja={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},Qa={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}};let He=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function We(e){var l,r;let n=(l=e.innerText)!=null?l:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let u=!1;for(let p of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))p.remove(),u=!0;let a=u?(r=t.innerText)!=null?r:"":n;return He.test(a)&&(a=a.replace(He,"")),a}function Ya(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(t=>{let u=document.getElementById(t);if(u){let a=u.getAttribute("aria-label");return typeof a=="string"?a.trim():We(u).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return We(e).trim()}function Ka(e){let l=z(""),r=z("");return()=>{let n=W(e);if(!n)return"";let t=n.innerText;if(l.value===t)return r.value;let u=Ya(n).trim().toLowerCase();return l.value=t,r.value=u,u}}function Za(e,l){return e===l}var Pa=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pa||{}),Xa=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Xa||{}),Ga=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ga||{});function xa(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Ge=Symbol("ListboxContext");function Ve(e){let l=ge(Ge,null);if(l===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ve),r}return l}let _a=ee({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Za},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:l,attrs:r,emit:n}){let t=z(1),u=z(null),a=z(null),p=z(null),m=z([]),y=z(""),s=z(null),i=z(1);function o(d=c=>c){let c=s.value!==null?m.value[s.value]:null,O=ba(d(m.value.slice()),B=>W(B.dataRef.domRef)),S=c?O.indexOf(c):null;return S===-1&&(S=null),{options:O,activeOptionIndex:S}}let h=v(()=>e.multiple?1:0),[C,$]=Fa(v(()=>e.modelValue),d=>n("update:modelValue",d),v(()=>e.defaultValue)),M=v(()=>C.value===void 0?ne(h.value,{1:[],0:void 0}):C.value),E={listboxState:t,value:M,mode:h,compare(d,c){if(typeof e.by=="string"){let O=e.by;return(d==null?void 0:d[O])===(c==null?void 0:c[O])}return e.by(d,c)},orientation:v(()=>e.horizontal?"horizontal":"vertical"),labelRef:u,buttonRef:a,optionsRef:p,disabled:v(()=>e.disabled),options:m,searchQuery:y,activeOptionIndex:s,activationTrigger:i,closeListbox(){e.disabled||t.value!==1&&(t.value=1,s.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(d,c,O){if(e.disabled||t.value===1)return;let S=o(),B=Da(d===Q.Specific?{focus:Q.Specific,id:c}:{focus:d},{resolveItems:()=>S.options,resolveActiveIndex:()=>S.activeOptionIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.disabled});y.value="",s.value=B,i.value=O??1,m.value=S.options},search(d){if(e.disabled||t.value===1)return;let c=y.value!==""?0:1;y.value+=d.toLowerCase();let O=(s.value!==null?m.value.slice(s.value+c).concat(m.value.slice(0,s.value+c)):m.value).find(B=>B.dataRef.textValue.startsWith(y.value)&&!B.dataRef.disabled),S=O?m.value.indexOf(O):-1;S===-1||S===s.value||(s.value=S,i.value=1)},clearSearch(){e.disabled||t.value!==1&&y.value!==""&&(y.value="")},registerOption(d,c){let O=o(S=>[...S,{id:d,dataRef:c}]);m.value=O.options,s.value=O.activeOptionIndex},unregisterOption(d){let c=o(O=>{let S=O.findIndex(B=>B.id===d);return S!==-1&&O.splice(S,1),O});m.value=c.options,s.value=c.activeOptionIndex,i.value=1},theirOnChange(d){e.disabled||$(d)},select(d){e.disabled||$(ne(h.value,{0:()=>d,1:()=>{let c=Y(E.value.value).slice(),O=Y(d),S=c.findIndex(B=>E.compare(O,Y(B)));return S===-1?c.push(O):c.splice(S,1),c}}))}};na([a,p],(d,c)=>{var O;E.closeListbox(),ia(c,oa.Loose)||(d.preventDefault(),(O=W(a))==null||O.focus())},v(()=>t.value===0)),be(Ge,E),ra(v(()=>ne(t.value,{0:$e.Open,1:$e.Closed})));let j=v(()=>{var d;return(d=W(a))==null?void 0:d.closest("form")});return me(()=>{Le([j],()=>{if(!j.value||e.defaultValue===void 0)return;function d(){E.theirOnChange(e.defaultValue)}return j.value.addEventListener("reset",d),()=>{var c;(c=j.value)==null||c.removeEventListener("reset",d)}},{immediate:!0})}),()=>{let{name:d,modelValue:c,disabled:O,form:S,...B}=e,b={open:t.value===0,disabled:O,value:M.value};return Re(te,[...d!=null&&M.value!=null?Ta({[d]:M.value}).map(([R,de])=>Re(ua,sa({features:da.Hidden,key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:S,disabled:O,name:R,value:de}))):[],Ce({ourProps:{},theirProps:{...r,...ca(B,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:b,slots:l,attrs:r,name:"Listbox"})])}}}),et=ee({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:r,expose:n}){var t;let u=(t=e.id)!=null?t:`headlessui-listbox-button-${Fe()}`,a=Ve("ListboxButton");n({el:a.buttonRef,$el:a.buttonRef});function p(i){switch(i.key){case U.Space:case U.Enter:case U.ArrowDown:i.preventDefault(),a.openListbox(),re(()=>{var o;(o=W(a.optionsRef))==null||o.focus({preventScroll:!0}),a.value.value||a.goToOption(Q.First)});break;case U.ArrowUp:i.preventDefault(),a.openListbox(),re(()=>{var o;(o=W(a.optionsRef))==null||o.focus({preventScroll:!0}),a.value.value||a.goToOption(Q.Last)});break}}function m(i){switch(i.key){case U.Space:i.preventDefault();break}}function y(i){a.disabled.value||(a.listboxState.value===0?(a.closeListbox(),re(()=>{var o;return(o=W(a.buttonRef))==null?void 0:o.focus({preventScroll:!0})})):(i.preventDefault(),a.openListbox(),xa(()=>{var o;return(o=W(a.optionsRef))==null?void 0:o.focus({preventScroll:!0})})))}let s=fa(v(()=>({as:e.as,type:l.type})),a.buttonRef);return()=>{var i,o;let h={open:a.listboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...C}=e,$={ref:a.buttonRef,id:u,type:s.value,"aria-haspopup":"listbox","aria-controls":(i=W(a.optionsRef))==null?void 0:i.id,"aria-expanded":a.listboxState.value===0,"aria-labelledby":a.labelRef.value?[(o=W(a.labelRef))==null?void 0:o.id,u].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:p,onKeyup:m,onClick:y};return Ce({ourProps:$,theirProps:C,slot:h,attrs:l,slots:r,name:"ListboxButton"})}}}),at=ee({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:r,expose:n}){var t;let u=(t=e.id)!=null?t:`headlessui-listbox-options-${Fe()}`,a=Ve("ListboxOptions"),p=z(null);n({el:a.optionsRef,$el:a.optionsRef});function m(i){switch(p.value&&clearTimeout(p.value),i.key){case U.Space:if(a.searchQuery.value!=="")return i.preventDefault(),i.stopPropagation(),a.search(i.key);case U.Enter:if(i.preventDefault(),i.stopPropagation(),a.activeOptionIndex.value!==null){let o=a.options.value[a.activeOptionIndex.value];a.select(o.dataRef.value)}a.mode.value===0&&(a.closeListbox(),re(()=>{var o;return(o=W(a.buttonRef))==null?void 0:o.focus({preventScroll:!0})}));break;case ne(a.orientation.value,{vertical:U.ArrowDown,horizontal:U.ArrowRight}):return i.preventDefault(),i.stopPropagation(),a.goToOption(Q.Next);case ne(a.orientation.value,{vertical:U.ArrowUp,horizontal:U.ArrowLeft}):return i.preventDefault(),i.stopPropagation(),a.goToOption(Q.Previous);case U.Home:case U.PageUp:return i.preventDefault(),i.stopPropagation(),a.goToOption(Q.First);case U.End:case U.PageDown:return i.preventDefault(),i.stopPropagation(),a.goToOption(Q.Last);case U.Escape:i.preventDefault(),i.stopPropagation(),a.closeListbox(),re(()=>{var o;return(o=W(a.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case U.Tab:i.preventDefault(),i.stopPropagation();break;default:i.key.length===1&&(a.search(i.key),p.value=setTimeout(()=>a.clearSearch(),350));break}}let y=va(),s=v(()=>y!==null?(y.value&$e.Open)===$e.Open:a.listboxState.value===0);return()=>{var i,o;let h={open:a.listboxState.value===0},{...C}=e,$={"aria-activedescendant":a.activeOptionIndex.value===null||(i=a.options.value[a.activeOptionIndex.value])==null?void 0:i.id,"aria-multiselectable":a.mode.value===1?!0:void 0,"aria-labelledby":(o=W(a.buttonRef))==null?void 0:o.id,"aria-orientation":a.orientation.value,id:u,onKeydown:m,role:"listbox",tabIndex:0,ref:a.optionsRef};return Ce({ourProps:$,theirProps:C,slot:h,attrs:l,slots:r,features:Ue.RenderStrategy|Ue.Static,visible:s.value,name:"ListboxOptions"})}}}),tt=ee({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:r,expose:n}){var t;let u=(t=e.id)!=null?t:`headlessui-listbox-option-${Fe()}`,a=Ve("ListboxOption"),p=z(null);n({el:p,$el:p});let m=v(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===u:!1),y=v(()=>ne(a.mode.value,{0:()=>a.compare(Y(a.value.value),Y(e.value)),1:()=>Y(a.value.value).some(d=>a.compare(Y(d),Y(e.value)))})),s=v(()=>ne(a.mode.value,{1:()=>{var d;let c=Y(a.value.value);return((d=a.options.value.find(O=>c.some(S=>a.compare(Y(S),Y(O.dataRef.value)))))==null?void 0:d.id)===u},0:()=>y.value})),i=Ka(p),o=v(()=>({disabled:e.disabled,value:e.value,get textValue(){return i()},domRef:p}));me(()=>a.registerOption(u,o)),Qe(()=>a.unregisterOption(u)),me(()=>{Le([a.listboxState,y],()=>{a.listboxState.value===0&&y.value&&ne(a.mode.value,{1:()=>{s.value&&a.goToOption(Q.Specific,u)},0:()=>{a.goToOption(Q.Specific,u)}})},{immediate:!0})}),pa(()=>{a.listboxState.value===0&&m.value&&a.activationTrigger.value!==0&&re(()=>{var d,c;return(c=(d=W(p))==null?void 0:d.scrollIntoView)==null?void 0:c.call(d,{block:"nearest"})})});function h(d){if(e.disabled)return d.preventDefault();a.select(e.value),a.mode.value===0&&(a.closeListbox(),re(()=>{var c;return(c=W(a.buttonRef))==null?void 0:c.focus({preventScroll:!0})}))}function C(){if(e.disabled)return a.goToOption(Q.Nothing);a.goToOption(Q.Specific,u)}let $=Ra();function M(d){$.update(d)}function E(d){$.wasMoved(d)&&(e.disabled||m.value||a.goToOption(Q.Specific,u,0))}function j(d){$.wasMoved(d)&&(e.disabled||m.value&&a.goToOption(Q.Nothing))}return()=>{let{disabled:d}=e,c={active:m.value,selected:y.value,disabled:d},{value:O,disabled:S,...B}=e,b={id:u,ref:p,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":y.value,disabled:void 0,onClick:h,onFocus:C,onPointerenter:M,onMouseenter:M,onPointermove:E,onMousemove:E,onPointerleave:j,onMouseleave:j};return Ce({ourProps:b,theirProps:B,slot:c,attrs:r,slots:l,name:"ListboxOption"})}}});const Te=(e,l,r=!0)=>{const n=ge("form-events",void 0),t=ge("form-group",void 0),u=ge("form-inputs",void 0);t&&(!r||e!=null&&e.legend?t.inputId.value=void 0:e!=null&&e.id&&(t.inputId.value=e==null?void 0:e.id),u&&(u.value[t.name.value]=t.inputId.value));const a=z(!1);function p(i,o){n&&n.emit({type:i,path:o})}function m(){p("blur",t==null?void 0:t.name.value),a.value=!0}function y(){p("change",t==null?void 0:t.name.value)}const s=Ye(()=>{(a.value||t!=null&&t.eagerValidation.value)&&p("input",t==null?void 0:t.name.value)},300);return{inputId:v(()=>(e==null?void 0:e.id)??(t==null?void 0:t.inputId.value)),name:v(()=>(e==null?void 0:e.name)??(t==null?void 0:t.name.value)),size:v(()=>{var o;const i=l.size[t==null?void 0:t.size.value]?t==null?void 0:t.size.value:null;return(e==null?void 0:e.size)??i??((o=l.default)==null?void 0:o.size)}),color:v(()=>{var i;return(i=t==null?void 0:t.error)!=null&&i.value?"red":e==null?void 0:e.color}),emitFormBlur:m,emitFormInput:s,emitFormChange:y}},Je=ye(q.ui.strategy,q.ui.checkbox,Qa),lt=ee({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>Je.default.color,validator(e){return q.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l}){const{ui:r,attrs:n}=se("checkbox",G(e,"ui"),Je,G(e,"class")),{emitFormChange:t,color:u,name:a,inputId:p}=Te(e),m=p.value??Wa(),y=v({get(){return e.modelValue},set(o){l("update:modelValue",o)}}),s=o=>{l("change",o.target.checked),t()},i=v(()=>De(Z(r.value.base,r.value.form,r.value.rounded,r.value.background,r.value.border,u.value&&r.value.ring.replaceAll("{color}",u.value),u.value&&r.value.color.replaceAll("{color}",u.value)),e.inputClass));return{ui:r,attrs:n,toggle:y,inputId:m,name:a,inputClass:i,onChange:s}}}),nt=["data-n-ids"],it=["id","name","required","value","disabled","indeterminate"],ot=["for"];function rt(e,l,r,n,t,u){return f(),k("div",{class:g(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[N("div",{class:g(e.ui.container)},[ga(N("input",D({id:e.inputId,"onUpdate:modelValue":l[0]||(l[0]=a=>e.toggle=a),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:l[1]||(l[1]=(...a)=>e.onChange&&e.onChange(...a))}),null,16,it),[[ma,e.toggle]])],2),e.label||e.$slots.label?(f(),k("div",{key:0,class:g(e.ui.inner)},[N("label",{for:e.inputId,class:g(e.ui.label)},[w(e.$slots,"label",{label:e.label},()=>[X(J(e.label),1)]),e.required?(f(),k("span",{key:0,class:g(e.ui.required)},"*",2)):V("",!0)],10,ot),e.help||e.$slots.help?(f(),k("p",{key:0,class:g(e.ui.help)},[w(e.$slots,"help",{help:e.help},()=>[X(J(e.help),1)])],2)):V("",!0)],2)):V("",!0)],10,nt)}const ut=Object.assign(he(lt,[["render",rt]]),{__name:"UCheckbox"}),_=ye(q.ui.strategy,q.ui.select,ya),pe=ye(q.ui.strategy,q.ui.selectMenu,ha),st=ee({components:{HCombobox:Ua,HComboboxButton:qa,HComboboxOptions:Ea,HComboboxOption:Na,HComboboxInput:Ha,HListbox:_a,HListboxButton:et,HListboxOptions:at,HListboxOption:tt,UIcon:ke,UAvatar:Ke},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>_.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>_.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>pe.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:()=>pe.default.searchablePlaceholder.label},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>pe.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>pe.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(_.size).includes(e)}},color:{type:String,default:()=>_.default.color,validator(e){return[...q.ui.colors,...Object.keys(_.color)].includes(e)}},variant:{type:String,default:()=>_.default.variant,validator(e){return[...Object.keys(_.variant),...Object.values(_.color).flatMap(l=>Object.keys(l))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:l,slots:r}){const{ui:n,attrs:t}=se("select",G(e,"ui"),_,G(e,"class")),{ui:u}=se("selectMenu",G(e,"uiMenu"),pe),a=v(()=>Ze({},e.popper,u.value.popper)),[p,m]=ka(a.value),y=v(()=>{if(!e.by)return;if(typeof e.by=="function")return e.by;const I=e.by;return I.indexOf(".")>0?(L,P)=>ie(L,I)===ie(P,I):I}),{size:s,rounded:i}=Pe({ui:n,props:e}),{emitFormBlur:o,emitFormChange:h,inputId:C,color:$,size:M,name:E}=Te(e,_),j=v(()=>s.value??M.value),d=z(""),c=v({get(){return e.query??d.value},set(I){d.value=I,l("update:query",I)}}),O=v(()=>{function I(L,P){return y.value&&typeof y.value!="function"&&typeof L=="object"&&typeof P=="object"?Ee(L[y.value],P[y.value]):Ee(L,P)}function T(L){return e.valueAttribute?ie(L,e.valueAttribute):L}if(e.multiple){const L=e.modelValue;return!Array.isArray(L)||!L.length?[]:Oe.value.filter(P=>{const ce=T(P);return L.some(la=>I(la,ce))})}return Oe.value.find(L=>{const P=T(L);return I(P,Y(e.modelValue))})??e.modelValue}),S=v(()=>e.modelValue?Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:["string","number"].includes(typeof e.modelValue)?e.valueAttribute?ie(O.value,e.optionAttribute):e.modelValue:ie(e.modelValue,e.optionAttribute):null),B=v(()=>{var T,L;const I=((L=(T=n.value.color)==null?void 0:T[$.value])==null?void 0:L[e.variant])||n.value.variant[e.variant];return De(Z(n.value.base,u.value.select,i.value,n.value.size[j.value],n.value.gap[j.value],e.padded?n.value.padding[j.value]:"p-0",I==null?void 0:I.replaceAll("{color}",$.value),(b.value||r.leading)&&n.value.leading.padding[j.value],(R.value||r.trailing)&&n.value.trailing.padding[j.value]),e.placeholder&&(!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)&&n.value.placeholder,e.selectClass)}),b=v(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),R=v(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),de=v(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Ae=v(()=>e.loading&&!b.value?e.loadingIcon:e.trailingIcon||e.icon),Me=v(()=>Z(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[j.value])),Be=v(()=>Z(n.value.icon.base,$.value&&q.ui.colors.includes($.value)&&n.value.icon.color.replaceAll("{color}",$.value),n.value.icon.size[j.value],e.loading&&n.value.icon.loading)),A=v(()=>Z(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[j.value])),x=v(()=>Z(n.value.icon.base,$.value&&q.ui.colors.includes($.value)&&n.value.icon.color.replaceAll("{color}",$.value),n.value.icon.size[j.value],e.loading&&!b.value&&n.value.icon.loading)),ue=e.searchable&&typeof e.searchable=="function"?Ye(e.searchable,e.debounce):void 0,Oe=Oa(async()=>ue?await ue(c.value):e.options||[],[],{lazy:e.searchableLazy});function xe(I){return I.replace(/[.*+?^${}()|[\]\\]/g,T=>`\\${T}`)}function ie(I,T){return qe(I,T)}const Se=v(()=>{if(!c.value||ue)return Oe.value;const I=xe(c.value);return Oe.value.filter(T=>{var L;return((L=e.searchAttributes)!=null&&L.length?e.searchAttributes:[e.optionAttribute]).some(P=>{if(["string","number"].includes(typeof T))return String(T).search(new RegExp(I,"i"))!==-1;const ce=qe(T,P);return ce!=null&&String(ce).search(new RegExp(I,"i"))!==-1})})}),_e=v(()=>c.value===""||e.showCreateOptionWhen==="empty"&&Se.value.length||e.showCreateOptionWhen==="always"&&Se.value.find(T=>["string","number"].includes(typeof T)?T===c.value:ie(T,e.optionAttribute)===c.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(c.value,Se.value)?null:["string","number"].includes(typeof e.modelValue)?c.value:{[e.optionAttribute]:c.value});function ea(){e.clearSearchOnClose&&(c.value="")}Le(m,I=>{I?l("open"):(ea(),l("close"),o())});function aa(I){Y(e.modelValue)!==I&&(l("update:modelValue",I),l("change",I),h())}function ta(I){c.value=I.target.value}return Sa(()=>we()),{ui:n,uiMenu:u,attrs:t,name:E,inputId:C,popper:a,trigger:p,container:m,selected:O,label:S,accessor:ie,isLeading:b,isTrailing:R,selectClass:B,leadingIconName:de,leadingIconClass:Be,leadingWrapperIconClass:Me,trailingIconName:Ae,trailingIconClass:x,trailingWrapperIconClass:A,filteredOptions:Se,createOption:_e,query:c,onUpdate:aa,onQueryChange:ta,by:y}}}),dt=["value","required"],ct=["id","disabled"],ft={class:"truncate"};function vt(e,l,r,n,t,u){const a=ke,p=$a("HComboboxInput"),m=Ke;return f(),H(fe(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:g(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:K(({open:y})=>[e.required?(f(),k("input",{key:0,value:e.modelValue,required:e.required,class:g(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,dt)):V("",!0),(f(),H(fe(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:g(e.uiMenu.trigger)},{default:K(()=>[w(e.$slots,"default",{open:y,disabled:e.disabled,loading:e.loading},()=>[N("button",D({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(f(),k("span",{key:0,class:g(e.leadingWrapperIconClass)},[w(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[le(a,{name:e.leadingIconName,class:g(e.leadingIconClass)},null,8,["name","class"])])],2)):V("",!0),w(e.$slots,"label",{selected:e.selected},()=>[e.label?(f(),k("span",{key:0,class:g(e.uiMenu.label)},J(e.label),3)):(f(),k("span",{key:1,class:g(e.uiMenu.label)},J(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(f(),k("span",{key:1,class:g(e.trailingWrapperIconClass)},[w(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[le(a,{name:e.trailingIconName,class:g(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):V("",!0)],16,ct)])]),_:2},1032,["class"])),y?(f(),k("div",{key:1,ref:"container",class:g([e.uiMenu.container,e.uiMenu.width])},[le(Ia,D({appear:""},e.uiMenu.transition),{default:K(()=>[N("div",null,[e.popper.arrow?(f(),k("div",{key:0,"data-popper-arrow":"",class:g(Object.values(e.uiMenu.arrow))},null,2)):V("",!0),(f(),H(fe(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:g([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:K(()=>{var s,i;return[e.searchable?(f(),H(p,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:g(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):V("",!0),(f(!0),k(te,null,je(e.filteredOptions,(o,h)=>(f(),H(fe(e.searchable?"HComboboxOption":"HListboxOption"),{key:h,as:"template",value:e.valueAttribute?e.accessor(o,e.valueAttribute):o,disabled:o.disabled},{default:K(({active:C,selected:$,disabled:M})=>[N("li",{class:g([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,C?e.uiMenu.option.active:e.uiMenu.option.inactive,$&&e.uiMenu.option.selected,M&&e.uiMenu.option.disabled])},[N("div",{class:g(e.uiMenu.option.container)},[w(e.$slots,"option",{option:o,active:C,selected:$},()=>[o.icon?(f(),H(a,{key:0,name:o.icon,class:g([e.uiMenu.option.icon.base,C?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,o.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):o.avatar?(f(),H(m,D({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...o.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):o.chip?(f(),k("span",{key:2,class:g(e.uiMenu.option.chip.base),style:wa({background:`#${o.chip}`})},null,6)):V("",!0),N("span",ft,J(["string","number"].includes(typeof o)?o:e.accessor(o,e.optionAttribute)),1)])],2),$?(f(),k("span",{key:0,class:g([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[le(a,{name:e.selectedIcon,class:g(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):V("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(f(),H(fe(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:K(({active:o,selected:h})=>[N("li",{class:g([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,o?e.uiMenu.option.active:e.uiMenu.option.inactive])},[N("div",{class:g(e.uiMenu.option.container)},[w(e.$slots,"option-create",{option:e.createOption,active:o,selected:h},()=>[N("span",{class:g(e.uiMenu.option.create)},'Create "'+J(typeof e.createOption=="string"?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((s=e.filteredOptions)!=null&&s.length)?(f(),k("p",{key:2,class:g(e.uiMenu.option.empty)},[w(e.$slots,"option-empty",{query:e.query},()=>[X(J(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(i=e.filteredOptions)!=null&&i.length?V("",!0):(f(),k("p",{key:3,class:g(e.uiMenu.empty)},[w(e.$slots,"empty",{query:e.query},()=>[X(J(e.uiMenu.default.empty.label),1)])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):V("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const pt=Object.assign(he(st,[["render",vt]]),{__name:"USelectMenu"}),ae=ye(q.ui.strategy,q.ui.input,Ca),bt=ee({components:{UIcon:ke},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ae.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ae.size).includes(e)}},color:{type:String,default:()=>ae.default.color,validator(e){return[...q.ui.colors,...Object.keys(ae.color)].includes(e)}},variant:{type:String,default:()=>ae.default.variant,validator(e){return[...Object.keys(ae.variant),...Object.values(ae.color).flatMap(l=>Object.keys(l))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l,slots:r}){const{ui:n,attrs:t}=se("input",G(e,"ui"),ae,G(e,"class")),{size:u,rounded:a}=Pe({ui:n,props:e}),{emitFormBlur:p,emitFormInput:m,size:y,color:s,inputId:i,name:o}=Te(e,ae),h=v(()=>u.value??y.value),C=z(Ze({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),$=z(null),M=()=>{var A;e.autofocus&&((A=$.value)==null||A.focus())},E=A=>{C.value.trim&&(A=A.trim()),(C.value.number||e.type==="number")&&(A=Va(A)),C.value.nullify&&(A||(A=null)),l("update:modelValue",A),m()},j=A=>{C.value.lazy||E(A.target.value)},d=A=>{if(e.type==="file"){const x=A.target.files;l("change",x)}else{const x=A.target.value;l("change",x),C.value.lazy&&E(x),C.value.trim&&(A.target.value=x.trim())}},c=A=>{p(),l("blur",A)};me(()=>{setTimeout(()=>{M()},e.autofocusDelay)});const O=v(()=>{var x,ue;const A=((ue=(x=n.value.color)==null?void 0:x[s.value])==null?void 0:ue[e.variant])||n.value.variant[e.variant];return De(Z(n.value.base,n.value.form,a.value,n.value.placeholder,e.type==="file"&&n.value.file.base,n.value.size[h.value],e.padded?n.value.padding[h.value]:"p-0",A==null?void 0:A.replaceAll("{color}",s.value),(S.value||r.leading)&&n.value.leading.padding[h.value],(B.value||r.trailing)&&n.value.trailing.padding[h.value]),e.inputClass)}),S=v(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),B=v(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),b=v(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),R=v(()=>e.loading&&!S.value?e.loadingIcon:e.trailingIcon||e.icon),de=v(()=>Z(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[h.value])),Ae=v(()=>Z(n.value.icon.base,s.value&&q.ui.colors.includes(s.value)&&n.value.icon.color.replaceAll("{color}",s.value),n.value.icon.size[h.value],e.loading&&n.value.icon.loading)),Me=v(()=>Z(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[h.value])),Be=v(()=>Z(n.value.icon.base,s.value&&q.ui.colors.includes(s.value)&&n.value.icon.color.replaceAll("{color}",s.value),n.value.icon.size[h.value],e.loading&&!S.value&&n.value.icon.loading));return{ui:n,attrs:t,name:o,inputId:i,input:$,isLeading:S,isTrailing:B,inputClass:O,leadingIconName:b,leadingIconClass:Ae,leadingWrapperIconClass:de,trailingIconName:R,trailingIconClass:Be,trailingWrapperIconClass:Me,onInput:j,onChange:d,onBlur:c}}}),gt=["id","name","type","required","placeholder","disabled"];function mt(e,l,r,n,t,u){const a=ke;return f(),k("div",{class:g(e.type==="hidden"?"hidden":e.ui.wrapper)},[N("input",D({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.type==="file"?e.attrs:{...e.attrs,value:e.modelValue},{onInput:l[0]||(l[0]=(...p)=>e.onInput&&e.onInput(...p)),onBlur:l[1]||(l[1]=(...p)=>e.onBlur&&e.onBlur(...p)),onChange:l[2]||(l[2]=(...p)=>e.onChange&&e.onChange(...p))}),null,16,gt),w(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(f(),k("span",{key:0,class:g(e.leadingWrapperIconClass)},[w(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[le(a,{name:e.leadingIconName,class:g(e.leadingIconClass)},null,8,["name","class"])])],2)):V("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(f(),k("span",{key:1,class:g(e.trailingWrapperIconClass)},[w(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[le(a,{name:e.trailingIconName,class:g(e.trailingIconClass)},null,8,["name","class"])])],2)):V("",!0)],2)}const yt=Object.assign(he(bt,[["render",mt]]),{__name:"UInput"}),ze=ye(q.ui.strategy,q.ui.formGroup,Ja),ht=ee({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(ze.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:l,attrs:r}=se("formGroup",G(e,"ui"),ze,G(e,"class")),n=ge("form-errors",null),t=v(()=>{var p,m;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(m=(p=n==null?void 0:n.value)==null?void 0:p.find(y=>y.path===e.name))==null?void 0:m.message}),u=v(()=>l.value.size[e.size??ze.default.size]),a=z(we());return be("form-group",{error:t,inputId:a,name:v(()=>e.name),size:v(()=>e.size),eagerValidation:v(()=>e.eagerValidation)}),{ui:l,attrs:r,inputId:a,size:u,error:t}}}),kt=["for"];function Ot(e,l,r,n,t,u){return f(),k("div",D({class:e.ui.wrapper},e.attrs),[N("div",{class:g(e.ui.inner)},[e.label||e.$slots.label?(f(),k("div",{key:0,class:g([e.ui.label.wrapper,e.size])},[N("label",{for:e.inputId,class:g([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?w(e.$slots,"label",oe(D({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),k(te,{key:1},[X(J(e.label),1)],64))],10,kt),e.hint||e.$slots.hint?(f(),k("span",{key:0,class:g([e.ui.hint])},[e.$slots.hint?w(e.$slots,"hint",oe(D({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),k(te,{key:1},[X(J(e.hint),1)],64))],2)):V("",!0)],2)):V("",!0),e.description||e.$slots.description?(f(),k("p",{key:1,class:g([e.ui.description,e.size])},[e.$slots.description?w(e.$slots,"description",oe(D({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),k(te,{key:1},[X(J(e.description),1)],64))],2)):V("",!0)],2),N("div",{class:g([e.label?e.ui.container:""])},[w(e.$slots,"default",oe(Xe({error:e.error}))),typeof e.error=="string"&&e.error?(f(),k("p",{key:0,class:g([e.ui.error,e.size])},[e.$slots.error?w(e.$slots,"error",oe(D({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),k(te,{key:1},[X(J(e.error),1)],64))],2)):e.help||e.$slots.help?(f(),k("p",{key:1,class:g([e.ui.help,e.size])},[e.$slots.help?w(e.$slots,"help",oe(D({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),k(te,{key:1},[X(J(e.help),1)],64))],2)):V("",!0)],2)],16)}const St=Object.assign(he(ht,[["render",Ot]]),{__name:"UFormGroup"});class Ie extends Error{constructor(l){super(l),this.message=l,Object.setPrototypeOf(this,Ie.prototype)}}const $t=ee({props:{schema:{type:[Object,Function],default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:l,emit:r}){const n=we(),t=Ba(`form-${n}`),u=z(null);me(()=>{t.on(async i=>{var o;i.type!=="submit"&&((o=e.validateOn)!=null&&o.includes(i.type))&&await y(i.path,{silent:!0})})}),Qe(()=>{t.reset()});const a=z([]);be("form-errors",a),be("form-events",t);const p=z({});be("form-inputs",p);async function m(){let i=await e.validate(e.state);if(e.schema){const{errors:o,result:h}=await Tt(e.state,e.schema);o?i=i.concat(o):u.value=h}return i}async function y(i,o={silent:!1}){let h=i;if(i&&!Array.isArray(i)&&(h=[i]),h){const C=a.value.filter(M=>!h.includes(M.path)),$=(await m()).filter(M=>h.includes(M.path));a.value=C.concat($)}else a.value=await m();if(a.value.length>0){if(o.silent)return!1;throw new Ie(`Form validation failed: ${JSON.stringify(a.value,null,2)}`)}return e.state}async function s(i){var h;const o=i;try{(h=e.validateOn)!=null&&h.includes("submit")&&await y(),o.data=e.schema?u.value:e.state,r("submit",o)}catch(C){if(!(C instanceof Ie))throw C;const $={...o,errors:a.value.map(M=>({...M,id:p.value[M.path]}))};r("error",$)}}return l({validate:y,errors:a,setErrors(i,o){o?a.value=a.value.filter(h=>h.path!==o).concat(i):a.value=i},async submit(){await s(new Event("submit"))},getErrors(i){return i?a.value.filter(o=>o.path===i):a.value},clear(i){i?a.value=a.value.filter(o=>o.path!==i):a.value=[]}}),{onSubmit:s,errors:Aa(a)}}});function It(e){return e.validate&&e.__isYupSchema__}function wt(e){return e.inner!==void 0}function Ct(e){return"schema"in e&&typeof e.coercer=="function"&&typeof e.validator=="function"&&typeof e.refiner=="function"}function Vt(e){return e.validateAsync!==void 0&&e.id!==void 0}function At(e){return e.isJoi===!0}function Mt(e){return"_parse"in e||"_run"in e||typeof e=="function"&&"schema"in e}function Bt(e){return e.parse!==void 0}async function zt(e,l){const r=await("_parse"in l?l._parse(e):"_run"in l?l._run({typed:!1,value:e},{}):l(e));return!r.issues||r.issues.length===0?{errors:null,result:"output"in r?r.output:"value"in r?r.value:null}:{errors:r.issues.map(t=>{var u;return{path:((u=t.path)==null?void 0:u.map(a=>a.key).join("."))||"",message:t.message}}),result:null}}async function jt(e,l){try{return{errors:null,result:await l.validateAsync(e,{abortEarly:!1})}}catch(r){if(At(r))return{errors:r.details.map(t=>({path:t.path.join("."),message:t.message})),result:null};throw r}}async function Lt(e,l){const r=await l.safeParseAsync(e);return r.success===!1?{errors:r.error.issues.map(t=>({path:t.path.join("."),message:t.message})),result:null}:{result:r.data,errors:null}}async function Ft(e,l){const[r,n]=l.validate(e);return r?{errors:r.failures().map(u=>({message:u.message,path:u.path.join(".")})),result:null}:{errors:null,result:n}}async function Dt(e,l){try{return{errors:null,result:await l.validate(e,{abortEarly:!1})}}catch(r){if(wt(r))return{errors:r.inner.map(t=>({path:t.path??"",message:t.message})),result:null};throw r}}function Tt(e,l){if(Bt(l))return Lt(e,l);if(Vt(l))return jt(e,l);if(Mt(l))return zt(e,l);if(It(l))return Dt(e,l);if(Ct(l))return Ft(e,l);throw new Error("Form validation failed: Unsupported form schema")}function Rt(e,l,r,n,t,u){return f(),k("form",{onSubmit:l[0]||(l[0]=Ma((...a)=>e.onSubmit&&e.onSubmit(...a),["prevent"]))},[w(e.$slots,"default",oe(Xe({errors:e.errors})))],32)}const Ut=Object.assign(he($t,[["render",Rt]]),{__name:"UForm"}),qt=ee({inheritAttrs:!1,__name:"AuthForm",props:{title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},align:{type:String,default:"bottom"},loading:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]},providers:{type:Array,default:()=>[]},submitButton:{type:Object,default:()=>({})},passwordToggle:{type:Object,default:()=>({})},schema:{type:Object,default:void 0},validate:{type:[Function,Array],default:void 0},validateOn:{type:Array,default:()=>["submit"]},divider:{type:String,default:"or"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["submit"],setup(e,{expose:l}){const r=e,n=v(()=>({wrapper:"w-full max-w-sm space-y-6",base:"",container:Z("gap-y-6 flex flex-col",r.align==="top"&&"flex-col-reverse"),title:"text-2xl text-gray-900 dark:text-white font-bold",description:"text-gray-500 dark:text-gray-400 mt-1",icon:{wrapper:"mb-2 pointer-events-none",base:"w-8 h-8 flex-shrink-0 text-gray-900 dark:text-white"},providers:"space-y-3",form:"space-y-6",footer:"text-sm text-gray-500 dark:text-gray-400 mt-2",passwordToggle:{showIcon:"i-heroicons-eye",hideIcon:"i-heroicons-eye-slash"},default:{submitButton:{label:"Continue"},passwordToggle:{color:"gray",variant:"link"}}})),t=z(),{ui:u,attrs:a}=se("auth.form",G(r,"ui"),n,G(r,"class"),!0),p=za(Object.values(r.fields).reduce((s,{name:i,value:o})=>(s[i]=o,s),{})),m=z(!1);function y(){m.value=!m.value}return l({formRef:t,state:p}),(s,i)=>{var c,O,S,B;const o=ke,h=ja,C=La,$=ut,M=pt,E=yt,j=St,d=Ut;return f(),k("div",D({class:F(u).wrapper},F(a)),[e.icon||s.$slots.icon||e.title||s.$slots.title||e.description||s.$slots.description?(f(),k("div",{key:0,class:g(F(u).base)},[e.icon||s.$slots.icon?(f(),k("div",{key:0,class:g(F(u).icon.wrapper)},[w(s.$slots,"icon",{},()=>[le(o,{name:e.icon,class:g(F(u).icon.base)},null,8,["name","class"])])],2)):V("",!0),e.title||s.$slots.title?(f(),k("div",{key:1,class:g(F(u).title)},[w(s.$slots,"title",{},()=>[X(J(e.title),1)])],2)):V("",!0),e.description||s.$slots.description?(f(),k("div",{key:2,class:g(F(u).description)},[w(s.$slots,"description",{},()=>[X(J(e.description),1)])],2)):V("",!0)],2)):V("",!0),N("div",{class:g(F(u).container)},[(c=e.providers)!=null&&c.length?(f(),k("div",{key:0,class:g(F(u).providers)},[(f(!0),k(te,null,je(e.providers,(b,R)=>(f(),H(h,D({key:R,ref_for:!0},b,{block:"",onClick:b.click}),null,16,["onClick"]))),128))],2)):V("",!0),(O=e.providers)!=null&&O.length&&((S=e.fields)!=null&&S.length)?(f(),H(C,{key:1,label:e.divider},null,8,["label"])):V("",!0),(B=e.fields)!=null&&B.length?(f(),H(d,{key:2,ref_key:"formRef",ref:t,state:p,schema:e.schema,validate:e.validate,"validate-on":e.validateOn,class:g(F(u).form),onSubmit:i[0]||(i[0]=b=>s.$emit("submit",b.data))},{default:K(()=>[(f(!0),k(te,null,je(e.fields,b=>(f(),H(j,{key:b.name,label:b.type==="checkbox"?"":b.label??"",description:b.description,help:b.help,hint:b.hint,name:b.name,size:b.size},Ne({default:K(()=>[w(s.$slots,`${b.name}-field`,D({ref_for:!0},{state:p,field:F(ve)(b,["description","help","hint","size"])}),()=>[b.type==="checkbox"?(f(),H($,D({key:0,modelValue:p[b.name],"onUpdate:modelValue":R=>p[b.name]=R,ref_for:!0},F(ve)(b,["description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"])):b.type==="select"?(f(),H(M,D({key:1,modelValue:p[b.name],"onUpdate:modelValue":R=>p[b.name]=R,ref_for:!0},F(ve)(b,["description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"])):b.type==="password"?(f(),H(E,D({key:2,modelValue:p[b.name],"onUpdate:modelValue":R=>p[b.name]=R,type:m.value?"text":"password",ref_for:!0},F(ve)(b,["label","description","help","hint","size","type"]),{ui:{icon:{trailing:{pointer:""}}}}),Ne({_:2},[e.passwordToggle?{name:"trailing",fn:K(()=>[le(h,D({ref_for:!0},{...F(u).default.passwordToggle,...e.passwordToggle},{icon:m.value?F(u).passwordToggle.hideIcon:F(u).passwordToggle.showIcon,padded:!1,onClick:y}),null,16,["icon"])]),key:"0"}:void 0]),1040,["modelValue","onUpdate:modelValue","type"])):(f(),H(E,D({key:3,modelValue:p[b.name],"onUpdate:modelValue":R=>p[b.name]=R,ref_for:!0},F(ve)(b,["label","description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"]))])]),_:2},[s.$slots[`${b.name}-label`]?{name:"label",fn:K(()=>[w(s.$slots,`${b.name}-label`)]),key:"0"}:void 0,s.$slots[`${b.name}-description`]?{name:"description",fn:K(()=>[w(s.$slots,`${b.name}-description`)]),key:"1"}:void 0,s.$slots[`${b.name}-hint`]?{name:"hint",fn:K(()=>[w(s.$slots,`${b.name}-hint`)]),key:"2"}:void 0,s.$slots[`${b.name}-help`]?{name:"help",fn:K(()=>[w(s.$slots,`${b.name}-help`)]),key:"3"}:void 0]),1032,["label","description","help","hint","name","size"]))),128)),w(s.$slots,"validation"),le(h,D({type:"submit",block:"",loading:e.loading},{...F(u).default.submitButton,...e.submitButton}),null,16,["loading"])]),_:3},8,["state","schema","validate","validate-on","class"])):V("",!0)],2),s.$slots.footer?(f(),k("div",{key:1,class:g(F(u).footer)},[w(s.$slots,"footer")],2)):V("",!0)],16)}}}),Wt=Object.assign(qt,{__name:"UAuthForm"});export{Wt as _};
