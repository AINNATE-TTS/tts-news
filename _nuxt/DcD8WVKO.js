import{d as z,s as E,ao as v,ap as F,aq as M,ab as e,c as a,M as i,w as o,h as d,ar as C,aj as $,i as s,O as p,f as l,t as m,e as U,L as H,F as O,q as B,at as j,S as G,aF as W,an as I,g as J,G as K}from"./DjqeAeer.js";import{_ as Q}from"./00qvcUE6.js";import{_ as X,a as Y,b as Z}from"./CKCqh0ve.js";import tt from"./BEksX9UY.js";import{_ as et}from"./DsgbLHg_.js";import"./DxFIYsQD.js";import"./CxYJgpPD.js";const ot={class:"text-gray-500 dark:text-gray-400"},nt={class:"text-gray-500 dark:text-gray-400"},at={class:"flex flex-wrap items-center gap-3 mt-4"},st={key:1},gt=z({__name:"[slug]",async setup(rt){var f,h,k;let n,c;const _=E(),{data:t}=([n,c]=v(()=>C(_.path,()=>B(_.path).findOne(),"$wqcbVuWERq")),n=await n,c(),n);if(!t.value)throw F({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:g}=([n,c]=v(()=>C(`${_.path}-surround`,()=>B("/blog").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(j(_.path)),{default:()=>[]})),n=await n,c(),n),y=((f=t.value.head)==null?void 0:f.title)||t.value.title,x=((h=t.value.head)==null?void 0:h.description)||t.value.description;return M({title:y,ogTitle:y,description:x,ogDescription:x}),(k=t.value.image)!=null&&k.src,(it,u)=>{const b=G,w=W,S=Q,D=K,q=X,L=tt,P=Y,V=et,A=Z,N=I,R=$;return e(t)?(a(),i(R,{key:0},{default:o(()=>[s(b,{icon:"material-symbols:keyboard-backspace-rounded",size:"sm",color:"gray",variant:"soft",label:"Back to news",trailing:!1,class:"mt-6",to:"/"}),e(t).hero?(a(),i(S,{key:0,ui:{wrapper:"py-6  sm:py-6 md:py-6 border-b border-gray-200 dark:border-gray-700",container:"sm:px-0 lg:pb-10 px-0 lg:px-0 lg:grid-cols-5 lg:items-start",base:"lg:col-span-3"},title:e(t).title,description:e(t).description,orientation:e(t).hero.orientation,links:e(t).hero.links},{headline:o(()=>[s(w,p(e(t).badge,{variant:"subtle"}),null,16),u[0]||(u[0]=l("span",{class:"text-gray-500 dark:text-gray-400"},"·",-1)),l("time",ot,m(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[l("img",p(e(t).image,{class:"lg:col-span-2 px-6"}),null,16)]),_:1},8,["title","description","orientation","links"])):(a(),i(q,{key:1,title:e(t).title,description:e(t).description},{headline:o(()=>[s(w,p(e(t).badge,{variant:"subtle"}),null,16),u[1]||(u[1]=l("span",{class:"text-gray-500 dark:text-gray-400"},"·",-1)),l("time",nt,m(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[l("div",at,[(a(!0),U(O,null,H(e(t).authors,(r,T)=>(a(),i(b,{key:T,to:r.to,color:"white",target:"_blank",size:"sm"},{default:o(()=>[s(D,p({ref_for:!0},r.avatar,{alt:"Author avatar",size:"2xs"}),null,16),J(" "+m(r.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"])),s(N,null,{right:o(()=>[e(t).body&&e(t).body.toc?(a(),i(A,{key:0,links:e(t).body.toc.links},null,8,["links"])):d("",!0)]),default:o(()=>[s(V,{prose:""},{default:o(()=>{var r;return[e(t)&&e(t).body?(a(),i(L,{key:0,value:e(t)},null,8,["value"])):d("",!0),(r=e(g))!=null&&r.length?(a(),U("hr",st)):d("",!0),s(P,{surround:e(g)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):d("",!0)}}});export{gt as default};
