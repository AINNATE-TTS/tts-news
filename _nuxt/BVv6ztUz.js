import{d as $,s as E,ao as y,ap as L,aq as M,ab as e,c as s,M as u,w as o,h as i,ar as k,aj as z,i as r,O as v,f as l,t as w,e as b,L as F,F as O,q as C,at as j,au as G,an as H,g as W,G as I,S as J}from"./DdII4wio.js";import{_ as K,a as Q,b as X}from"./DYAhP9FM.js";import Y from"./Dha4cKqk.js";import{_ as Z}from"./C0dKEAXV.js";import"./B5mFpgwH.js";import"./CxYJgpPD.js";const tt={class:"text-gray-500 dark:text-gray-400"},et={class:"flex flex-wrap items-center gap-3 mt-4"},nt={key:1},lt=$({__name:"[slug]",async setup(ot){var f,g,h;let n,_;const c=E(),{data:t}=([n,_]=y(()=>k(c.path,()=>C(c.path).findOne(),"$wqcbVuWERq")),n=await n,_(),n);if(!t.value)throw L({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:d}=([n,_]=y(()=>k(`${c.path}-surround`,()=>C("/blog").where({_extension:"md"}).without(["body","excerpt"]).sort({date:-1}).findSurround(j(c.path)),{default:()=>[]})),n=await n,_(),n),p=((f=t.value.head)==null?void 0:f.title)||t.value.title,m=((g=t.value.head)==null?void 0:g.description)||t.value.description;return M({title:p,ogTitle:p,description:m,ogDescription:m}),(h=t.value.image)!=null&&h.src,(at,x)=>{const U=G,B=I,S=J,q=K,D=Y,P=Q,V=Z,A=X,N=H,R=z;return e(t)?(s(),u(R,{key:0},{default:o(()=>[r(q,{title:e(t).title,description:e(t).description},{headline:o(()=>[r(U,v(e(t).badge,{variant:"subtle"}),null,16),x[0]||(x[0]=l("span",{class:"text-gray-500 dark:text-gray-400"},"Â·",-1)),l("time",tt,w(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[l("div",et,[(s(!0),b(O,null,F(e(t).authors,(a,T)=>(s(),u(S,{key:T,to:a.to,color:"white",target:"_blank",size:"sm"},{default:o(()=>[r(B,v({ref_for:!0},a.avatar,{alt:"Author avatar",size:"2xs"}),null,16),W(" "+w(a.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),r(N,null,{right:o(()=>[e(t).body&&e(t).body.toc?(s(),u(A,{key:0,links:e(t).body.toc.links},null,8,["links"])):i("",!0)]),default:o(()=>[r(V,{prose:""},{default:o(()=>{var a;return[e(t)&&e(t).body?(s(),u(D,{key:0,value:e(t)},null,8,["value"])):i("",!0),(a=e(d))!=null&&a.length?(s(),b("hr",nt)):i("",!0),r(P,{surround:e(d)},null,8,["surround"])]}),_:1})]),_:1})]),_:1})):i("",!0)}}});export{lt as default};
